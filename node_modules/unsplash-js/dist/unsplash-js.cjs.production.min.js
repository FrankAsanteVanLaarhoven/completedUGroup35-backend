"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("content-type");function n(){return(n=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function t(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n.indexOf(t=o[r])>=0||(a[t]=e[t]);return a}var r=o((function(e){return"string"==typeof e?e:null})),a=function(e){return null!=e};function o(e){return function(n){return a(e(n))}}var s=function(e){return Object.keys(e).reduce((function(t,r){var o,s=e[r];return n({},t,a(s)?((o={})[r]=s,o):{})}),{})};function i(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n.length-1;return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var o=n[0].apply(this,t),s=1;s<=r;s++)o=n[s].call(this,o);return o}}var u,l,c=o((function(e){return a(e)&&"object"==typeof e&&!Array.isArray(e)?e:null})),h=o((function(e){return Array.isArray(e)&&e.every(r)&&e.length>0?e:null})),p=o((function(e){return c(e)&&"errors"in e&&h(e.errors)?{errors:e.errors}:null})),d=function(e){this.message=e},f=function(n){if(function(n){var t=n.headers.get("content-type");return a(t)&&"application/json"===e.parse(t).type}(n))return n.json().catch((function(e){throw new d("unable to parse JSON response.")}));throw new d("expected JSON response from server.")},g=function(){return function(e){return f(e.response)}},y=function(e){return function(r,a){void 0===a&&(a={});var o=e(r),s=o.headers,i=o.query;return n({},t(o,["headers","query"]),a,{query:i,headers:n({},s,a.headers)})}},m=function(e){return e},v=function(e){var r=e.accessKey,o=e.apiVersion,s=void 0===o?"v1":o,u=e.apiUrl,l=void 0===u?"https://api.unsplash.com":u,c=e.headers,h=e.fetch,g=t(e,["accessKey","apiVersion","apiUrl","headers","fetch"]);return function(e){var t=e.handleResponse;return i(e.handleRequest,(function(e){var o=e.method,i=void 0===o?"GET":o,u=e.headers,y=e.body,m=e.signal,v=function(e){var n=e.pathname,t=e.query;return function(e){var r=new URL(e);return function(e){return function(n){"/"===n.pathname?n.pathname=e:n.pathname+=e}}(n)(r),function(e){return function(n){Object.keys(e).forEach((function(t){return n.searchParams.set(t,e[t].toString())}))}}(t)(r),r.toString()}}({pathname:e.pathname,query:e.query})(l),q=n({method:i,headers:n({},c,u,{"Accept-Version":s},a(r)?{Authorization:"Client-ID "+r}:{}),body:y,signal:m},g);return(null!=h?h:fetch)(v,q).then(function(e){return function(t){return(t.ok?e({response:t}).then((function(e){return{type:"success",status:t.status,response:e,originalResponse:t}})):f(t).then((function(e){return n({type:"error",status:t.status},function(e){return p(e)?{errors:e.errors,source:"api"}:{errors:["Responded with a status code outside the 2xx range, and the response body is not recognisable."],source:"decoding"}}(e),{originalResponse:t})}))).catch((function(e){if(e instanceof d)return{type:"error",source:"decoding",status:t.status,originalResponse:t,errors:[e.message]};throw e}))}}(t))}))}},q=function(e){var n=e.headers.get("x-total");if(a(n)){var t=parseInt(n);if(Number.isInteger(t))return t;throw new d("expected x-total header to be valid integer.")}throw new d("expected x-total header to exist.")},R=function(){return function(e){var n=e.response;return g()({response:n}).then((function(e){return{results:e,total:q(n)}}))}},w=function(e){return a(e)?{collections:e.join()}:{}},b=function(e){return s({per_page:e.perPage,order_by:e.orderBy,page:e.page})},k={handleRequest:y((function(e){var r=e.collectionId,a=e.orientation,o=t(e,["collectionId","orientation"]);return{pathname:"/collections/"+r+"/photos",query:s(n({},b(o),{orientation:a}))}})),handleResponse:R()},S={handleRequest:y((function(e){return{pathname:"/collections/"+e.collectionId,query:{}}})),handleResponse:g()},_={handleRequest:y((function(e){return void 0===e&&(e={}),{pathname:"/collections",query:b(e)}})),handleResponse:R()},I={handleRequest:y((function(e){return{pathname:"/collections/"+e.collectionId+"/related",query:{}}})),handleResponse:g()},P={__proto__:null,getPhotos:k,get:S,list:_,getRelated:I},O={handleRequest:y((function(e){return void 0===e&&(e={}),{pathname:"/photos",query:s(b(e))}})),handleResponse:R()},A={handleRequest:y((function(e){return{pathname:"/photos/"+e.photoId,query:{}}})),handleResponse:g()},j={handleRequest:y((function(e){return{pathname:"/photos/"+e.photoId+"/statistics",query:{}}})),handleResponse:g()},x={handleRequest:y((function(e){var r=void 0===e?{}:e,a=r.collectionIds,o=r.contentFilter,i=t(r,["collectionIds","contentFilter"]);return{pathname:"/photos/random",query:s(n({},i,{content_filter:o},w(a))),headers:{"cache-control":"no-cache"}}})),handleResponse:g()},L={handleRequest:y((function(e){var n=function(e){var n=new URL(e),t=n.pathname,r={};return n.searchParams.forEach((function(e,n){r[n]=e})),{query:r,pathname:"/"===t?void 0:t}}(e.downloadLocation),t=n.pathname,r=n.query;if(!a(t))throw new Error("Could not parse pathname from url.");return{pathname:t,query:s(r)}})),handleResponse:g()},C={__proto__:null,list:O,get:A,getStats:j,getRandom:x,trackDownload:L},T={handleRequest:y((function(e){var r=e.query,a=e.page,o=e.perPage,i=e.orderBy,u=e.collectionIds,l=e.lang,c=e.contentFilter,h=t(e,["query","page","perPage","orderBy","collectionIds","lang","contentFilter"]);return{pathname:"/search/photos",query:s(n({query:r,content_filter:c,lang:l,order_by:i},b({page:a,perPage:o}),w(u),h))}})),handleResponse:g()},z={handleRequest:y((function(e){var r=e.query,a=t(e,["query"]);return{pathname:"/search/collections",query:n({query:r},b(a))}})),handleResponse:g()},B={handleRequest:y((function(e){var r=e.query,a=t(e,["query"]);return{pathname:"/search/users",query:n({query:r},b(a))}})),handleResponse:g()},E={__proto__:null,getPhotos:T,getCollections:z,getUsers:B},U={handleRequest:y((function(e){return{pathname:"/users/"+e.username,query:{}}})),handleResponse:g()},M={handleRequest:y((function(e){var r=e.username,a=e.stats,o=e.orientation,i=t(e,["username","stats","orientation"]);return{pathname:"/users/"+r+"/photos",query:s(n({},b(i),{orientation:o,stats:a}))}})),handleResponse:R()},K={handleRequest:y((function(e){var r=e.username,a=e.orientation,o=t(e,["username","orientation"]);return{pathname:"/users/"+r+"/likes",query:s(n({},b(o),{orientation:a}))}})),handleResponse:R()},D={handleRequest:y((function(e){var n=e.username,r=t(e,["username"]);return{pathname:"/users/"+n+"/collections",query:b(r)}})),handleResponse:R()},F={__proto__:null,get:U,getPhotos:M,getLikes:K,getCollections:D},H=function(e){return"/topics/"+e.topicIdOrSlug},N=i(H,(function(e){return e+"/photos"})),G=m({handleRequest:function(e){var t=e.orderBy,r=e.topicIdsOrSlugs;return{pathname:"/topics",query:s(n({},b({page:e.page,perPage:e.perPage}),{ids:null==r?void 0:r.join(","),order_by:t}))}},handleResponse:R()}),V=m({handleRequest:function(e){return{pathname:H({topicIdOrSlug:e.topicIdOrSlug}),query:{}}},handleResponse:g()}),J=m({handleRequest:function(e){var r=e.topicIdOrSlug,a=e.orientation,o=t(e,["topicIdOrSlug","orientation"]);return{pathname:N({topicIdOrSlug:r}),query:s(n({},b(o),{orientation:a}))}},handleResponse:R()}),W={__proto__:null,collections:P,photos:C,search:E,users:F,trackNonHotLinkedPhotoView:function(e){var n=e.appId;return function(e){var t=e.photoId,r=Array.isArray(t)?t:[t];if(r.length>20)throw new Error("You cannot track more than 20 photos at once. Please try again with fewer photos.");return fetch("views.unsplash.com/v?photo_id="+r.join()+"&app_id="+n)}}};(u=exports.Language||(exports.Language={})).Afrikaans="af",u.Amharic="am",u.Arabic="ar",u.Azerbaijani="az",u.Belarusian="be",u.Bulgarian="bg",u.Bengali="bn",u.Bosnian="bs",u.Catalan="ca",u.Cebuano="ceb",u.Corsican="co",u.Czech="cs",u.Welsh="cy",u.Danish="da",u.German="de",u.Greek="el",u.English="en",u.Esperanto="eo",u.Spanish="es",u.Estonian="et",u.Basque="eu",u.Persian="fa",u.Finnish="fi",u.French="fr",u.Frisian="fy",u.Irish="ga",u.ScotsGaelic="gd",u.Galician="gl",u.Gujarati="gu",u.Hausa="ha",u.Hawaiian="haw",u.Hindi="hi",u.Hmong="hmn",u.Croatian="hr",u.HaitianCreole="ht",u.Hungarian="hu",u.Armenian="hy",u.Indonesian="id",u.Igbo="ig",u.Icelandic="is",u.Italian="it",u.Hebrew="iw",u.Japanese="ja",u.Javanese="jw",u.Georgian="ka",u.Kazakh="kk",u.Khmer="km",u.Kannada="kn",u.Korean="ko",u.Kurdish="ku",u.Kyrgyz="ky",u.Latin="la",u.Luxembourgish="lb",u.Lao="lo",u.Lithuanian="lt",u.Latvian="lv",u.Malagasy="mg",u.Maori="mi",u.Macedonian="mk",u.Malayalam="ml",u.Mongolian="mn",u.Marathi="mr",u.Malay="ms",u.Maltese="mt",u.Myanmar="my",u.Nepali="ne",u.Dutch="nl",u.Norwegian="no",u.Nyanja="ny",u.Oriya="or",u.Punjabi="pa",u.Polish="pl",u.Pashto="ps",u.Portuguese="pt",u.Romanian="ro",u.Russian="ru",u.Kinyarwanda="rw",u.Sindhi="sd",u.Sinhala="si",u.Slovak="sk",u.Slovenian="sl",u.Samoan="sm",u.Shona="sn",u.Somali="so",u.Albanian="sq",u.Serbian="sr",u.Sesotho="st",u.Sundanese="su",u.Swedish="sv",u.Swahili="sw",u.Tamil="ta",u.Telugu="te",u.Tajik="tg",u.Thai="th",u.Turkmen="tk",u.Filipino="tl",u.Turkish="tr",u.Tatar="tt",u.Uighur="ug",u.Ukrainian="uk",u.Urdu="ur",u.Uzbek="uz",u.Vietnamese="vi",u.Xhosa="xh",u.Yiddish="yi",u.Yoruba="yo",u.ChineseSimplified="zh",u.ChineseTraditional="zh-TW",u.Zulu="zu",(l=exports.OrderBy||(exports.OrderBy={})).LATEST="latest",l.POPULAR="popular",l.VIEWS="views",l.DOWNLOADS="downloads",l.OLDEST="oldest";var Y=i(v,(function(e){return{photos:{get:e(A),list:e(O),getStats:e(j),getRandom:e(x),trackDownload:e(L)},users:{getPhotos:e(M),getCollections:e(D),getLikes:e(K),get:e(U)},search:{getCollections:e(z),getPhotos:e(T),getUsers:e(B)},collections:{getPhotos:e(k),get:e(S),list:e(_),getRelated:e(I)},topics:{list:e(G),get:e(V),getPhotos:e(J)}}}));exports._internals=W,exports.createApi=Y;
//# sourceMappingURL=unsplash-js.cjs.production.min.js.map
